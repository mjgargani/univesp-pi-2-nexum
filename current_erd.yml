# Nova proposta de entidades-relacionamentos
# Convenção de nomes em inglês no formato 'snake_case'

users:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  user: text
  password: text (hash)
  document: text
  first_name: text
  middle_name: text (optional)
  last_name: text
  birth_date: date (optional)
  complement: text (optional)

suppliers:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  document: text
  company_name: text
  complement: text (optional)

part_templates:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  name: text
  description: text
  value: number
  complement: text (optional)  

manufacturers:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  name: text
  description: text
  complement: text (optional)

contacts:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  type: phone | mail
  content: text
  complement: text (optional - eg refers to / wpp)

addresses:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  street: text
  city: text
  zip_code: text
  complement: text (optional - eg references)

service_templates:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  value: number
  name: text
  description: text
  complement: text (optional)

# N:1

vehicles:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  manufacturer_id: text (FK - (manufacturers - id) - uuid)
  name: text
  year: number
  color: text
  description: text
  complement: text (optional)

orders:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  user_id: text (FK - (users - id) - uuid)
  vehicle_id: text (FK - (vehicles - id) - uuid)
  scheduled: date (dependency of agenda - query)
  conclusion: date (optional)
  name: text (based in services 1:1)
  budget: number (float)
  value: number (float, default 'budget')
  complement: text (optional, eg changes in 'value')

service_steps:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  service_template_id: text (FK - (service_templates - id) - uuid)
  step_number: number (order)
  name: text
  description: text
  complement: text (optional)

order_statuses:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  order_id: text (FK - (orders - id) - uuid)
  description: text (depends on service_templates and service_steps)
  complement: text (optional)

# N:N

order_services:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  order_id: text (FK - (orders - id) - uuid)
  service_template_id: text (FK - (service_templates - id) - uuid)

order_parts:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  order_id: text (FK - (orders - id) - uuid)
  part_template_id: text (FK - (part_templates - id) - uuid)

users_contacts:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  user_id: text (FK - (users - id) - uuid)
  contact_id: text (FK - (contacts - id) - uuid)

users_addresses:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  user_id: text (FK - (users - id) - uuid)
  address_id: text (FK - (addresses - id) - uuid)

suppliers_contacts:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  supplier_id: text (FK - (suppliers - id) - uuid)
  contact_id: text (FK - (contacts - id) - uuid)

suppliers_addresses:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  supplier_id: text (FK - (suppliers - id) - uuid)
  address_id: text (FK - (addresses - id) - uuid)

parts_suppliers:
  id: text (PK - uuid)
  active: boolean (true | false)
  created_at: date
  updated_at: date
  part_template_id: text (FK - (part_templates - id) - uuid)
  supplier_id: text (FK - (suppliers - id) - uuid)